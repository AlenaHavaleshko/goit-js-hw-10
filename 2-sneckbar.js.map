{"version":3,"file":"2-sneckbar.js","sources":["../src/js/2-snackbar.js"],"sourcesContent":["import '../css/styles.css';\n\nconst NOTIFICATION_DELAY_SUCCESS = 3000;\nconst NOTIFICATION_DELAY_REJECT = 6000;\nlet timeoutId = null;\n\nconst refs = {\n  notificationSuccess: document.querySelector('.js-alert-fulfield'),\n  notificationReject: document.querySelector('.js-alert-rejected'),\n}\n\nrefs.notificationSuccess.addEventListener('click', onNatificationClick);\nrefs.notificationReject.addEventListener('click', onNatificationClick);\n\nshowNotificationSuccess();\nshowNotificationReject();\n\n// Functions\n\nfunction onNatificationClick() {\n  hideNotificationSuccess();\n  clearInterval(timeoutId);\n};\n\n// Success\nfunction showNotificationSuccess() {\n  refs.notificationSuccess.classList.add('is-visible-success');\n // refs.notificationReject,classList.add('is-visible');\n\n timeoutId = setTimeout(() => {\n    console.log('Закриваем алерт автоматически,чтобы не висел');\n    hideNotificationSuccess();\n  }, NOTIFICATION_DELAY_SUCCESS);\n}\n\n// Reject\nfunction showNotificationReject() {\n  refs.notificationReject.classList.add('is-visible-reject');\n\n timeoutId = setTimeout(() => {\n    console.log('Закриваем алерт автоматически,чтобы не висел');\n    hideNotificationReject();\n  }, NOTIFICATION_DELAY_REJECT);\n}\n\n// hide notification\nfunction hideNotificationSuccess() {\n  refs.notificationSuccess.classList.remove('is-visible-success');\n}\n\nfunction hideNotificationReject() {\n  refs.notificationReject.classList.remove('is-visible-reject');\n}\n\n\n\n\n\n\nconst PROMPT_DELAY = 1000;\nconst MAX_PROMPT_ATTEMPTS = 3;\n\nlet promptCounter = 0;\nlet hasSubscribed = true;\n\n const intervalId = setInterval(() => {\n  if( promptCounter === MAX_PROMPT_ATTEMPTS || hasSubscribed) {\n    console.log('Нужно остановить интервал');\n    clearInterval(intervalId);\n    return\n  }\n  console.log('Подпишись на рассылку! - ' + Date.now());\n  promptCounter += 1\n}, PROMPT_DELAY);"],"names":["NOTIFICATION_DELAY_SUCCESS","NOTIFICATION_DELAY_REJECT","timeoutId","refs","onNatificationClick","showNotificationSuccess","showNotificationReject","hideNotificationSuccess","hideNotificationReject","PROMPT_DELAY","intervalId"],"mappings":"wFAEA,MAAMA,EAA6B,IAC7BC,EAA4B,IAClC,IAAIC,EAAY,KAEhB,MAAMC,EAAO,CACX,oBAAqB,SAAS,cAAc,oBAAoB,EAChE,mBAAoB,SAAS,cAAc,oBAAoB,CACjE,EAEAA,EAAK,oBAAoB,iBAAiB,QAASC,CAAmB,EACtED,EAAK,mBAAmB,iBAAiB,QAASC,CAAmB,EAErEC,IACAC,IAIA,SAASF,GAAsB,CAC7BG,IACA,cAAcL,CAAS,CACzB,CAGA,SAASG,GAA0B,CACjCF,EAAK,oBAAoB,UAAU,IAAI,oBAAoB,EAG5DD,EAAY,WAAW,IAAM,CAC1B,QAAQ,IAAI,8CAA8C,EAC1DK,GACD,EAAEP,CAA0B,CAC/B,CAGA,SAASM,GAAyB,CAChCH,EAAK,mBAAmB,UAAU,IAAI,mBAAmB,EAE1DD,EAAY,WAAW,IAAM,CAC1B,QAAQ,IAAI,8CAA8C,EAC1DM,GACD,EAAEP,CAAyB,CAC9B,CAGA,SAASM,GAA0B,CACjCJ,EAAK,oBAAoB,UAAU,OAAO,oBAAoB,CAChE,CAEA,SAASK,GAAyB,CAChCL,EAAK,mBAAmB,UAAU,OAAO,mBAAmB,CAC9D,CAOA,MAAMM,EAAe,IAMdC,EAAa,YAAY,IAAM,CACwB,CAC1D,QAAQ,IAAI,2BAA2B,EACvC,cAAcA,CAAU,EACxB,MACD,CAGH,EAAGD,CAAY"}